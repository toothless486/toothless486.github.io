---
title:  "3015 오아시스 재결합"
classes: wide
categories:
    Algorithms
tags:
    stack
---
### 느낀 점

- 모두  다른 키가 들어온다고 가정했을 땐 이해하기 쉬웠다.
- 같은 키가 들어왔을 땐, 해당 키와 같은 사람의 수를 관리하는게 필요하다.
- 다음에 더 읽어봐야겠다.

### 코드

```
#include <iostream>
#include <stack>
#include  <vector>
using namespace std;
int main()
{
    int n;
    cin >> n;

    vector<long long> arr(n+1,  0);
    for(int i=1;i <=n; i++)
    {
        cin >> arr[i];
    }

    stack<pair<long long, int>> s;
    long long result = 0;

    for(int i=1; i<=n; i++)
    {
        int a = arr[i];
        pair<long long, int> input = {a, 1};

        while(!s.empty())
        {
            if(s.top().first <= a)
            {
                result += s.top().second;
                if(s.top().first == a)
                {
                    input.second += s.top().second;
                }
                s.pop();
            }
            else
            {
                break;
            }
        }

        if(!s.empty())
        {
            result++;
        }
        s.push(input);
    }
    cout  << result;
    return 0;
}

```

### 문제 해결

1. 반례
    1. input 3 3 2 1 일 때, 2가 아닌 3이 나왔다. 
    2. 다시 해결해보기 !